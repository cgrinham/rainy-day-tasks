<html lang="en">
    <head>
        <title>Tasks</title>
        <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.3/build/pure-min.css" integrity="sha384-cg6SkqEOCV1NbJoCu11+bm0NvBRc8IYLRGXkmNrqUBfTjmMYwNKPWBTIKyw9mHNJ" crossorigin="anonymous">
    </head>
    <body>
        <div class="pure-g">
            <div class="pure-u-18-24">
            <table class="pure-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Destination</th>
                        <th>Method</th>
                        <th>Created Time</th>
                        <th>Completed Time</th>
                        <th>Disptach Count</th>
                        <th>Exception</th>
                        <th>First Response</th>
                        <th>Last Response</th>
                    </tr>
                </thead>
                <tbody>
                    {% for task_name, task in tasks.items() %}
                    <tr>
                        <td>{{task.uuid}}</td>
                        <td>{{task.name}}</td>
                        <td>{{task.host}}{{task.request.relative_uri}}</td>
                        <td>{{task.request.method}}</td>
                        <td>{{task.create_time}}</td>
                        <td>{{task.complete_time}}</td>
                        <td>{{task.dispatch_count}}</td>
                        <td>{{task.exception}}</td>
                        <td>{{task.first_attempt.status_code}}<br>
                            {{task.first_attempt.content}}</td>
                        <td>{{task.last_attempt.status_code}}<br>
                            {{task.last_attempt.content}}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        </div>
    </body>
</html>
